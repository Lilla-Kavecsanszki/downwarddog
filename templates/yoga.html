{% extends "base.html" %} {% block content %}

<!-- for the video to be displayed -->
{% load static %}

<div class="container">
    <!-- Video Section -->
    <section class="video-background">
        <video autoplay muted loop id="puppyVideo">
            <source src="{% static 'videos/puppy-yoga-video1.mp4' %}" type="video/mp4">
            Your browser does not support the video tag
        </video>
        <!-- Text on top-->
        <div class="overlay"></div>
        <div class="video-text">
            <h1>Our Classes</h1>
            <h5>Book now!</h5>
            <br>
            <i class="fa-solid fa-arrow-down fa-bounce fa-2xl" style="color: white;"></i>
        </div>
    </section>
    <!-- Table Section -->
    <div class="row">
        {% for class_type in class_types %}
        <div class="col-md-3">
            <div class="card">
                <div class="card-body">
                    <h5 class="card-title text-center">{{ class_type.name }}</h5>
                    <p class="card-text text-center">{{ class_type.description }}</p>
                    {% if user.is_authenticated %}
                    <form method="POST" action="{% url 'home' %}">
                        {% csrf_token %}
                        <input type="hidden" name="class_type" value="{{ class_type.id }}">
                        <!-- Dropdown menu for available dates and times -->
                        <select name="booking_datetime" required>
                            <option value="">Select a date and time</option>
                            {% for date_time in class_type.available_dates_times %}
                            <option value="{{ date_time }}">{{ date_time }}</option>
                            {% endfor %}
                        </select>
                        <button type="submit">Book Now</button>
                    </form>
                    {% else %}
                    <p>Please log in to make a booking.</p>
                    {% endif %}
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock content %}